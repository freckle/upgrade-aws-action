name: Upgrade AWS
description: Upgrade AWS to the latest version
inputs: {}
outputs: {}
runs:
  using: composite
  steps:
    - name: Download and extract
      shell: bash
      run: |
        curl --output awscliv2.zip "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip"
        unzip awscliv2.zip
    - name: Install
      shell: bash
      run: |
        if ! command -v aws &> /dev/null
        then
          sudo ./aws/install
        else
          sudo ./aws/install --update
        fi        
    - name: Check
      shell: bash
      run: aws --version
